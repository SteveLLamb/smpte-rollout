<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="mobile.css">
    <title>SMPTE Rollout (Countries) Map</title>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" crossorigin="anonymous"></script>
    <script type="application/javascript" src="features.js" defer></script>


    <!-- Resources -->
    <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/maps.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/geodata/worldLow.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>

    <!-- Chart code -->
    <script>
    am4core.ready(function() {

    // Themes begin
    am4core.useTheme(am4themes_animated);
    // Themes end

    /* Create map instance */
    var chart = am4core.create("chartdiv", am4maps.MapChart);

    /* Set map definition */
    chart.geodata = am4geodata_worldLow;

    /* Set projection */
    chart.projection = new am4maps.projections.Miller();

    /* Create map polygon series */
    var polygonSeries = chart.series.push(new am4maps.MapPolygonSeries());

    /* Make map load polygon (like country names) data from GeoJSON */
    polygonSeries.useGeodata = true;

    polygonSeries.data = [{"id":"DZ","value":64.29},{"id":"AO","value":70},{"id":"BJ","value":100},{"id":"BW","value":0},{"id":"IO","value":0},{"id":"BF","value":66.67},{"id":"BI","value":0},{"id":"CV","value":100},{"id":"CM","value":66.67},{"id":"CF","value":0},{"id":"TD","value":0},{"id":"KM","value":0},{"id":"CG","value":0},{"id":"CI","value":66.67},{"id":"CD","value":75},{"id":"DJ","value":100},{"id":"EG","value":6.25},{"id":"GQ","value":0},{"id":"ER","value":0},{"id":"SZ","value":100},{"id":"ET","value":60},{"id":"TF","value":0},{"id":"GA","value":100},{"id":"GM","value":0},{"id":"GH","value":0},{"id":"GN","value":100},{"id":"GW","value":0},{"id":"KE","value":92.31},{"id":"LS","value":0},{"id":"LR","value":100},{"id":"LY","value":0},{"id":"MG","value":75},{"id":"MW","value":0},{"id":"ML","value":100},{"id":"MR","value":0},{"id":"MU","value":46.15},{"id":"YT","value":50},{"id":"MA","value":50},{"id":"MZ","value":50},{"id":"NA","value":25},{"id":"NE","value":100},{"id":"NG","value":25.42},{"id":"RE","value":75},{"id":"RW","value":0},{"id":"SH","value":0},{"id":"ST","value":0},{"id":"SN","value":33.33},{"id":"SC","value":0},{"id":"SL","value":0},{"id":"SO","value":0},{"id":"ZA","value":50},{"id":"SS","value":0},{"id":"SD","value":0},{"id":"TZ","value":90.91},{"id":"TG","value":100},{"id":"TU","value":51.72},{"id":"UG","value":50},{"id":"EH","value":0},{"id":"ZM","value":57.14},{"id":"ZW","value":0},{"id":"AF","value":100},{"id":"BD","value":0},{"id":"BT","value":0},{"id":"BN","value":0},{"id":"KH","value":63.64},{"id":"CN","value":0.2},{"id":"HK","value":20.25},{"id":"MO","value":16.67},{"id":"KP","value":0},{"id":"IN","value":1.78},{"id":"ID","value":43.94},{"id":"IR","value":0},{"id":"JP","value":3.48},{"id":"KZ","value":85.96},{"id":"KG","value":91.67},{"id":"LA","value":0},{"id":"MY","value":17.05},{"id":"MV","value":0},{"id":"MN","value":0},{"id":"MM","value":9.09},{"id":"NP","value":2.17},{"id":"PK","value":78.38},{"id":"PH","value":2.42},{"id":"KR","value":4.47},{"id":"SG","value":81.03},{"id":"LK","value":26.15},{"id":"TJ","value":66.67},{"id":"TH","value":1.43},{"id":"TL","value":0},{"id":"TM","value":100},{"id":"UZ","value":88.24},{"id":"VN","value":3.04},{"id":"TW","value":21.77},{"id":"CX","value":100},{"id":"AU","value":62.23},{"id":"NZ","value":51.32},{"id":"NF","value":0},{"id":"BM","value":90},{"id":"AI","value":0},{"id":"AG","value":100},{"id":"AW","value":100},{"id":"BS","value":100},{"id":"BB","value":100},{"id":"BQ","value":100},{"id":"VG","value":100},{"id":"KY","value":100},{"id":"CU","value":16.67},{"id":"CW","value":100},{"id":"DM","value":100},{"id":"DO","value":96.88},{"id":"GD","value":100},{"id":"GP","value":62.5},{"id":"HT","value":0},{"id":"JM","value":100},{"id":"MQ","value":100},{"id":"MS","value":0},{"id":"PR","value":92.31},{"id":"BL","value":0},{"id":"KN","value":100},{"id":"LC","value":100},{"id":"MF","value":100},{"id":"VC","value":100},{"id":"SX","value":100},{"id":"TT","value":100},{"id":"TC","value":0},{"id":"VI","value":100},{"id":"BZ","value":100},{"id":"CR","value":94.29},{"id":"SV","value":88.89},{"id":"GT","value":97.5},{"id":"HN","value":100},{"id":"MX","value":97.49},{"id":"NI","value":90.91},{"id":"PA","value":84.85},{"id":"AX","value":0},{"id":"AL","value":57.14},{"id":"AD","value":100},{"id":"AT","value":83.24},{"id":"BY","value":97.85},{"id":"BE","value":84},{"id":"BA","value":39.13},{"id":"BG","value":30.12},{"id":"HR","value":20.37},{"id":"CZ","value":1.6},{"id":"DK","value":91},{"id":"EE","value":85.11},{"id":"FO","value":66.67},{"id":"FI","value":88.14},{"id":"FR","value":79.7},{"id":"DE","value":80.26},{"id":"GI","value":100},{"id":"GR","value":3.2},{"id":"GG","value":0},{"id":"VA","value":0},{"id":"HU","value":1.57},{"id":"IS","value":100},{"id":"IE","value":98},{"id":"IM","value":0},{"id":"IT","value":24},{"id":"JE","value":0},{"id":"LV","value":100},{"id":"LI","value":0},{"id":"LT","value":100},{"id":"LU","value":98},{"id":"MT","value":100},{"id":"MC","value":25},{"id":"ME","value":0},{"id":"NL","value":98},{"id":"NO","value":100},{"id":"PL","value":85.85},{"id":"PT","value":72.08},{"id":"MD","value":80},{"id":"RO","value":5.31},{"id":"RU","value":77.26},{"id":"SM","value":0},{"id":"SARK","value":0},{"id":"RS","value":30.36},{"id":"SK","value":1.9},{"id":"SI","value":26.67},{"id":"ES","value":88.11},{"id":"SJ","value":0},{"id":"SE","value":87.05},{"id":"CH","value":57.47},{"id":"MK","value":57.14},{"id":"UA","value":19.76},{"id":"GB","value":98},{"id":"XK","value":50},{"id":"FJ","value":100},{"id":"NC","value":100},{"id":"PG","value":50},{"id":"SB","value":0},{"id":"VU","value":100},{"id":"GU","value":100},{"id":"KI","value":0},{"id":"MH","value":0},{"id":"FM","value":100},{"id":"NR","value":0},{"id":"MP","value":100},{"id":"PW","value":0},{"id":"UM","value":0},{"id":"AM","value":60},{"id":"AZ","value":40.91},{"id":"BH","value":5.88},{"id":"CY","value":25},{"id":"GE","value":63.64},{"id":"IQ","value":0},{"id":"IL","value":55.67},{"id":"JO","value":0},{"id":"KW","value":65},{"id":"LB","value":0},{"id":"OM","value":8},{"id":"QA","value":95},{"id":"SA","value":100},{"id":"PS","value":0},{"id":"SY","value":100},{"id":"TR","value":3.71},{"id":"AE","value":100},{"id":"YE","value":0},{"id":"CA","value":88.64},{"id":"GL","value":100},{"id":"PM","value":100},{"id":"US","value":94.08},{"id":"AS","value":100},{"id":"CK","value":100},{"id":"PF","value":40},{"id":"NU","value":0},{"id":"PN","value":0},{"id":"WS","value":100},{"id":"TK","value":0},{"id":"TO","value":0},{"id":"TV","value":0},{"id":"WF","value":0},{"id":"AR","value":92.83},{"id":"BO","value":100},{"id":"BV","value":0},{"id":"BR","value":2.85},{"id":"CL","value":93.58},{"id":"CO","value":97.31},{"id":"EC","value":96.15},{"id":"FK","value":100},{"id":"GF","value":50},{"id":"GY","value":60},{"id":"PY","value":90},{"id":"PE","value":94.74},{"id":"GS","value":0},{"id":"SR","value":50},{"id":"UY","value":95},{"id":"VE","value":89.87}];

    /* Configure series */
    var polygonTemplate = polygonSeries.mapPolygons.template;
    polygonTemplate.applyOnClones = true;
    polygonTemplate.togglable = true;
    polygonTemplate.tooltipText = "{name}: {value}%";
    polygonTemplate.nonScalingStroke = true;
    polygonTemplate.strokeOpacity = 0.5;
    polygonTemplate.fill = chart.colors.getIndex(0);
    var lastSelected;
    polygonTemplate.events.on("hit", function(ev) {
      if (lastSelected) {
        lastSelected.isActive = false;
      }
      ev.target.series.chart.zoomToMapObject(ev.target);
      if (lastSelected !== ev.target) {
        lastSelected = ev.target;
      }
    })

    chart.responsive.enabled = true;


    /* Create selected and hover states and set alternative fill color */
    var ss = polygonTemplate.states.create("active");
    ss.properties.fill = chart.colors.getIndex(2);

    var hs = polygonTemplate.states.create("hover");
    hs.properties.fill = chart.colors.getIndex(4);

    // Hide Antarctica
    polygonSeries.exclude = ["AQ"];

    // Add heat rule
    polygonSeries.heatRules.push({
      "property": "fill",
      "target": polygonSeries.mapPolygons.template,
      "min": am4core.color("#961a1e"),
      "max": am4core.color("#43ba46")
    });

    var heatLegend = chart.chartContainer.createChild(am4maps.HeatLegend);
    heatLegend.valign = "bottom";
    heatLegend.align = "left";
    heatLegend.width = am4core.percent(100);
    heatLegend.series = polygonSeries;
    heatLegend.orientation = "vertical";
    heatLegend.padding(20, 20, 20, 20);
    heatLegend.valueAxis.renderer.labels.template.fontSize = 10;
    heatLegend.valueAxis.renderer.minGridDistance = 40;

    // Small map
    chart.smallMap = new am4maps.SmallMap();
    chart.smallMap.align = "left";
    chart.smallMap.valign = "top";
    chart.smallMap.series.push(polygonSeries);

    // Zoom control
    chart.zoomControl = new am4maps.ZoomControl();
    chart.zoomControl.valign = "top";

    var homeButton = new am4core.Button();
    homeButton.events.on("hit", function(){
      chart.goHome();
    });

    homeButton.icon = new am4core.Sprite();
    homeButton.padding(7, 5, 7, 5);
    homeButton.width = 30;
    homeButton.icon.path = "M16,8 L14,8 L14,16 L10,16 L10,10 L6,10 L6,16 L2,16 L2,8 L0,8 L8,0 L16,8 Z M16,8";
    homeButton.marginBottom = 10;
    homeButton.parent = chart.zoomControl;
    homeButton.insertBefore(chart.zoomControl.plusButton);

    }); // end am4core.ready()
    </script>

</head>
<body>

    <div id="chartdiv"></div>

</body>

</html>